<div class="space-y-6">
  <% @timeline.each do |group| %>
    <section class="timeline-date">
      <%# 날짜 헤더 %>
      <div class="flex items-center justify-between px-4 mb-3">
        <h2 class="text-lg font-semibold text-warm-gray-800">
          <%= group[:date_label] %>
        </h2>
        <span class="text-sm text-warm-gray-500">
          <%= group[:count] %>장
        </span>
      </div>

      <%# 사진 그리드 (3열) %>
      <div class="photo-grid grid grid-cols-3 gap-0.5">
        <% group[:photos].each do |photo| %>
          <%= link_to family_photo_path(@family, photo),
                      class: "photo-item block aspect-square overflow-hidden
                              bg-cream-200 hover:opacity-90 transition-opacity" do %>
            <% if photo.image.attached? && photo.image.variable? %>
              <%= image_tag photo.image.variant(resize_to_limit: [300, 300]),
                            loading: "lazy",
                            alt: photo.caption || "사진",
                            class: "w-full h-full object-cover" %>
            <% else %>
              <div class="w-full h-full bg-cream-200 flex items-center justify-center">
                <span class="text-warm-gray-400 text-xs">No image</span>
              </div>
            <% end %>
          <% end %>
        <% end %>
      </div>
    </section>
  <% end %>
</div>
