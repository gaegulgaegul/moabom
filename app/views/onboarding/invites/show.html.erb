<div class="fixed inset-0 bg-sketch-paper flex flex-col z-[100]">
  <!-- 헤더 (진행률 3/3) -->
  <%= render "onboarding/header", step: 3 %>

  <%= render Sketch::ContainerComponent.new(padding: :lg, variant: :paper, border: false, class: "flex-1 pb-24") do %>
    <div class="flex flex-col items-center">
      <%= render Sketch::AvatarComponent.new(size: :xl, initials: "👨‍👩‍👧‍👦", border: true, class: "mb-6") %>

      <h1 class="text-2xl font-sketch font-bold text-sketch-ink text-center mb-2">
        가족을 초대해보세요
      </h1>
      <p class="font-hand text-sketch-gray text-center mb-8">
        함께 추억을 공유할 수 있어요
      </p>

      <!-- 초대 링크 카드 -->
      <%= render Sketch::CardComponent.new(variant: :default, padding: :md, class: "w-full max-w-md mb-6") do %>
        <p class="font-hand text-sm text-sketch-gray mb-3">초대 링크</p>
        <div class="flex items-center gap-2">
          <input type="text" value="<%= @invite_url %>" readonly
                 class="flex-1 px-4 py-3 bg-sketch-cream border-2 border-sketch-gray rounded-xl
                        font-hand text-sm text-sketch-ink">
          <button class="p-3 bg-sketch-ink text-sketch-paper rounded-xl border-2 border-sketch-ink
                         hover:bg-sketch-gray transition-colors"
                  type="button"
                  onclick="navigator.clipboard.writeText('<%= @invite_url %>'); alert('링크가 복사되었습니다!')">
            <%= lucide_icon "clipboard", class: "w-5 h-5" %>
          </button>
        </div>
      <% end %>

      <!-- 공유 버튼들 -->
      <div class="flex justify-center gap-4 mt-6">
        <button class="flex flex-col items-center gap-2" type="button"
                onclick="alert('카카오톡 공유 기능은 추후 구현 예정입니다')">
          <%= render Sketch::AvatarComponent.new(size: :lg, initials: "💬", border: false, class: "bg-[#FEE500]") %>
          <span class="font-hand text-xs text-sketch-gray">카카오톡</span>
        </button>
        <button class="flex flex-col items-center gap-2" type="button"
                onclick="navigator.clipboard.writeText('<%= @invite_url %>'); alert('링크가 복사되었습니다!')">
          <%= render Sketch::AvatarComponent.new(size: :lg, border: true, class: "bg-sketch-cream") do %>
            <%= lucide_icon "link", class: "w-6 h-6 text-sketch-ink" %>
          <% end %>
          <span class="font-hand text-xs text-sketch-gray">링크 복사</span>
        </button>
      </div>
    </div>
  <% end %>

  <!-- 하단 버튼 -->
  <%= render Sketch::ContainerComponent.new(padding: :lg, variant: :paper, border: false, class: "pb-8 space-y-3") do %>
    <%= button_to complete_onboarding_invite_path, method: :post, data: { turbo: false }, class: "w-full" do %>
      <%= render Sketch::ButtonComponent.new(
        variant: :primary,
        type: :submit,
        full_width: true,
        size: :lg
      ) do %>
        시작하기
      <% end %>
    <% end %>
    <%= button_to complete_onboarding_invite_path, method: :post, data: { turbo: false }, class: "w-full" do %>
      <%= render Sketch::ButtonComponent.new(
        variant: :ghost,
        type: :submit,
        full_width: true,
        size: :md,
        class: "text-sketch-gray"
      ) do %>
        나중에 초대할게요
      <% end %>
    <% end %>
  <% end %>
</div>
