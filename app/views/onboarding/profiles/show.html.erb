<div class="fixed inset-0 bg-sketch-paper flex flex-col z-[100]">
  <!-- 헤더 -->
  <%= render "onboarding/header", step: 1 %>

  <%= form_with model: current_user, url: onboarding_profile_path, method: :patch, class: "flex-1 flex flex-col" do |form| %>
    <!-- 컨텐츠 -->
    <%= render Sketch::ContainerComponent.new(padding: :lg, variant: :paper, border: false, class: "flex-1 pb-24") do %>
      <div class="flex flex-col items-center">
        <%= render Sketch::AvatarComponent.new(size: :xl, initials: "👤", border: true, class: "mb-6") %>

        <h1 class="text-2xl font-sketch font-bold text-sketch-ink text-center mb-2">
          프로필을 설정해주세요
        </h1>
        <p class="font-hand text-sketch-gray text-center mb-8">
          가족들에게 보여질 이름이에요
        </p>

        <% if current_user.errors.any? %>
          <%= render Sketch::AlertComponent.new(variant: :error, dismissible: false, class: "mb-4 w-full max-w-md") do %>
            <% current_user.errors.full_messages.each do |message| %>
              <p class="text-sm"><%= message %></p>
            <% end %>
          <% end %>
        <% end %>

        <div class="w-full max-w-md">
          <%= render Sketch::InputComponent.new(
            name: "user[nickname]",
            label: "닉네임",
            placeholder: "예: 엄마, 아빠, 할머니",
            value: current_user.nickname,
            required: true
          ) %>
        </div>
      </div>
    <% end %>

    <!-- 하단 버튼 -->
    <%= render Sketch::ContainerComponent.new(padding: :lg, variant: :paper, border: false, class: "pb-8") do %>
      <%= render Sketch::ButtonComponent.new(
        variant: :primary,
        type: :submit,
        full_width: true,
        size: :lg
      ) do %>
        다음
      <% end %>
    <% end %>
  <% end %>
</div>
