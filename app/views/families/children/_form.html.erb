<%# Frame0 Sketch Design System - Child Form %>
<%= form_with model: [@family, @child], class: "space-y-6 max-w-lg mx-auto" do |f| %>
  <%# 에러 메시지 %>
  <% if @child.errors.any? %>
    <%= render Sketch::AlertComponent.new(variant: :error, dismissible: false) do %>
      <p class="font-sketch font-medium mb-2">입력값을 확인해주세요</p>
      <ul class="text-sm space-y-1">
        <% @child.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    <% end %>
  <% end %>

  <%# 이름 입력 %>
  <%= render Sketch::InputComponent.new(
    name: "child[name]",
    label: "이름",
    placeholder: "아이 이름을 입력하세요",
    value: @child.name,
    required: true
  ) %>

  <%# 생년월일 입력 %>
  <%= render Sketch::InputComponent.new(
    name: "child[birthdate]",
    type: :date,
    label: "생년월일",
    value: @child.birthdate,
    required: true
  ) %>

  <%# 성별 선택 %>
  <%= render Sketch::InputComponent.new(
    name: "child[gender]",
    type: :select,
    label: "성별",
    options: [["선택하세요", ""], ["남", "male"], ["여", "female"]],
    value: @child.gender
  ) %>

  <%# 버튼 그룹 %>
  <div class="flex gap-3 pt-4">
    <%= button_to family_children_path(@family), method: :get, class: "flex-1" do %>
      <%= render Sketch::ButtonComponent.new(variant: :secondary, full_width: true, type: :submit) do %>
        취소
      <% end %>
    <% end %>
    <%= render Sketch::ButtonComponent.new(variant: :primary, type: :submit, class: "flex-1") do %>
      저장
    <% end %>
  </div>
<% end %>
