<%= form_with model: [@family, @child], class: "space-y-6 max-w-lg mx-auto" do |f| %>
  <%# 에러 메시지 %>
  <% if @child.errors.any? %>
    <div class="bg-red-50 border border-red-200 rounded-xl p-4">
      <div class="flex items-start gap-3">
        <%= lucide_icon "alert-circle", class: "w-5 h-5 text-red-500 flex-shrink-0 mt-0.5" %>
        <div class="flex-1">
          <p class="text-red-800 text-sm font-medium mb-2">입력값을 확인해주세요</p>
          <ul class="text-red-700 text-sm space-y-1">
            <% @child.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  <% end %>

  <%# 이름 입력 %>
  <div>
    <%= f.label :name, "이름", class: "block text-sm font-medium text-warm-gray-700 mb-1" %>
    <%= f.text_field :name,
        class: "w-full px-4 py-3 bg-cream-100 border border-cream-300 rounded-xl text-warm-gray-800 placeholder:text-warm-gray-400 focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-200 transition-all duration-200",
        placeholder: "아이 이름을 입력하세요",
        required: true %>
  </div>

  <%# 생년월일 입력 %>
  <div>
    <%= f.label :birthdate, "생년월일", class: "block text-sm font-medium text-warm-gray-700 mb-1" %>
    <%= f.date_field :birthdate,
        class: "w-full px-4 py-3 bg-cream-100 border border-cream-300 rounded-xl text-warm-gray-800 focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-200 transition-all duration-200",
        required: true %>
  </div>

  <%# 성별 선택 %>
  <div>
    <%= f.label :gender, "성별", class: "block text-sm font-medium text-warm-gray-700 mb-1" %>
    <%= f.select :gender,
        [["남", "male"], ["여", "female"]],
        { include_blank: "선택하세요" },
        class: "w-full px-4 py-3 bg-cream-100 border border-cream-300 rounded-xl text-warm-gray-800 focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-200 transition-all duration-200" %>
  </div>

  <%# 버튼 그룹 %>
  <div class="flex gap-3 pt-4">
    <%= link_to "취소", family_children_path(@family),
        class: "flex-1 bg-white/60 backdrop-blur-sm border border-primary-200 text-primary-700 py-3 px-6 rounded-2xl font-semibold text-center hover:bg-white/80 active:bg-white/90 transition-colors duration-200" %>
    <%= f.submit "저장",
        class: "flex-1 bg-primary-500 text-white py-3 px-6 rounded-2xl font-semibold hover:bg-primary-600 active:bg-primary-700 transition-colors duration-200" %>
  </div>
<% end %>
