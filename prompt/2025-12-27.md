Role: UI 분석 전문가. Frame0.app 스케치 스타일 완전 분석.
Input: https://frame0.app/ 페이지 + 첨부파일 내용. 핵심: 손그림 UI 컴포넌트 10개(버튼,카드,입력,네비,모달,아이콘,헤더,푸터,토글,프로그레스바).
Output 형식:
1. 색상 팔레트: 10개 HEX 코드 (회색 톤 80% 투명도 포함)
2. 선 스타일: stroke-width 범위(px), dasharray 패턴 3개
3. Typography: 폰트 패밀리 추천 + 크기 스케일
4. 그림자/텍스처: CSS noise 필터 값
5. design-tokens.json 파일 전체 코드 (JSON 형식)
   File: design-tokens.json

---

Role: Rails Tailwind CSS 전문가. Frame0 스케치 디자인 토큰 구현.
Input: 첨부 design-tokens.json 파일 내용.
Output: 완전한 tailwind.config.js 파일.
요구사항:
- theme.extend.sketch: { stroke-thin: '1px', stroke-thick: '4px', border-irregular: 'path("M0 0 Q2 1 4 0 ...")', noise-fill: 'url(#noise)', colors: gray-sketch-100: '#f8f9fa80' }
- Rough.js 통합: sketchRough: true 플러그인 설정
- CSS 변수: --sketch-stroke-width, --sketch-dasharray
  File: tailwind.config.js (기존 파일 덮어쓰기)
  추가: app/assets/stylesheets/sketch-variables.css 파일도 생성 (CSS 변수 정의)

---

Role: Rails 7+ 프론트엔드 전문가. Frame0 스케치 환경 완전 설정.
Output 3개 파일:
1. package.json: roughjs@4.0, wired-elements, stimulus-use dependencies 추가
2. app/javascript/entries/application.js: Rough.js + Wired Elements import + Stimulus 자동 등록
3. app/assets/stylesheets/application.tailwind.css: @import 'rough-sketch'; @layer utilities { .sketch-border { ... } }
4. app/views/layouts/application.html.erb 업데이트: <%= javascript_importmap_tags %> + CDN fallback
   명령어: yarn install 후 실행할 bin/setup-sketch.sh 스크립트도 생성
   File: package.json, application.js, application.tailwind.css, application.html.erb, setup-sketch.sh

---

Role: Rails ViewComponent + Tailwind + Rough.js 전문가. Frame0 스케치 [컴포넌트명] 생성.
컴포넌트: [버튼/카드/입력/네비/모달]
상태: default, hover, focus, disabled, loading
Output 파일:
1. app/components/sketch_[컴포넌트명].rb (ViewComponent 클래스)
2. app/components/sketch_[컴포넌트명].html.erb (템플릿)
3. app/javascript/controllers/sketch_[컴포넌트명]_controller.js (Stimulus hover 애니메이션)
   예시 사용: <%= render Sketch::Button.new(variant: :primary, size: :md) do %>내용<% end %>
   스케치 효과: Rough.js SVG 보더 + strokeDasharray 무작위 + hover 진동 + noise 텍스처
   File: 3개 파일 생성 (폴더 자동 생성)

---

Role: Rails Helper 전문가. Frame0 스케치 디자인 시스템 헬퍼 완성.
Output:
1. app/helpers/sketch_helper.rb: def sketch_container, sketch_button, sketch_card, sketch_icon 등 8개 헬퍼
2. app/assets/stylesheets/sketch-utilities.css: .rough-shadow, .noise-fill, .irregular-border 등 15개 utility 클래스
3. config/initializers/sketch.rb: Rails.application.config.sketch_tokens 자동 로드
   사용 예: <%= sketch_container(class: 'p-8') do %> <% end %>
   File: 3개 파일. 기존 헬퍼에 추가(non-destructive)

---

스케치 컴포넌트 데모 페이지 만들어줘

---

디자인 시스템 너무 잘 만들어진거 같아. 몇가지 피드백 확인 해줘

- Color Palette - Core Colors -> ink, pencil, gray는 아무것도 안보이는데?
- 폰트가 전반적으로 스케치 느낌이 약한거 같아.

---

피드백 더 있는데 확인해줘.

- Cards - Card with Image
------------------------------------------------------
|                              |                     |
|                              |                     |
|          사진1               |          사진2      |
|                              |                     |
|                              |                     |
|                              |                     |
|                              |                     |
|                              |---------------------|
|                              |                     |
|                              |          사진3      |
|                              |         더보기      |
|                              |                     |
|                              |                     |
|                              |                     |
------------------------------------------------------
|                         내용                       |
|                                                    |
------------------------------------------------------
이런 카드형 디자인도 추가하고 싶어.
- 한글일 떄 폰트도 확인하고 싶어.

---

피드백 더 있는데 확인해줘.

- Gallery Card 섹션이 비율이 잘 안맞는거 같아. @prompt/img.png 비율이 안맞네. 그리고 하단 내용이 없어.
- 아이콘들이 안보이는데 스케치 형식의 아이콘들을 보여줘

---

Gallery Card (Bento Grid), Gallery Card - Square 사진1,2 이렇게 했는데 Photo로 바쭤줘.
Gallery Card (Bento Grid)는 높이를 조금 더 늘려줘

---

coderabbit이 리뷰하고 만들어준 프롬프트야.
`---`으로 구분했어. 서브 에이전트로 병렬 처리해줘.

In app/assets/stylesheets/sketch-utilities.css around lines 377–379, document
that .sketch-icon depends on the roughen-filter SVG injected by the
initSketchEnvironment() JS module and either add a clear comment above the rule
stating that the sketch JavaScript must run (or the filter will be missing), and
add a graceful CSS fallback for non-JS environments (for example use a .no-js
parent selector to neutralize the SVG filter or set filter: none as a fallback)
so elements don’t render broken when JS fails.
---
In app/assets/tailwind/application.css around lines 161 to 175, the .sketch-btn
class references CSS variables like --sketch-black that don't match the defined
variables which use the --color-sketch-* prefix, causing undefined values;
update the .sketch-btn variable references to the correct names (e.g., replace
--sketch-black with --color-sketch-black, --sketch-font-body with
--color-sketch-font-body or the exact variable names defined in your theme, and
similarly adjust --sketch-stroke-base, --radius-sketch-base,
--shadow-sketch-light, --duration-sketch-normal to their matching
--color-sketch-* or theme-defined names), or alternatively import the file that
defines the original --sketch-* variables so names are consistent across the
project.
---
In app/assets/tailwind/application.css around lines 203 to 213, the .sketch-card
rule uses the CSS variable --sketch-gray-300 which does not exist because the
theme defines --color-sketch-300; update the reference(s) to use the correct
variable name (rename --sketch-gray-300 to --color-sketch-300) or add a matching
alias variable in the @theme block so the variable names are consistent across
the stylesheet.
---
In app/components/sketch/gallery_card_component.rb around lines 71 to 89,
card_data is missing the Stimulus action binding used for hover interactions in
CardComponent; when @hoverable is true the sketch-card controller methods won't
be called. Update card_data to add an action key that conditionally sets
"mouseenter->sketch-card#onHover mouseleave->sketch-card#onLeave" when
@hoverable is truthy (and an empty string or omit the key when false), so the
component's data hash includes the necessary Stimulus action binding to trigger
the SVG border animation on hover.
---
In app/components/sketch/input_component.rb around lines 113–115, the helper
returns the class "text-sketch-error" which doesn't exist in the design system;
add a new CSS token --color-sketch-error to your sketch design tokens (where
--color-sketch-ink and --color-sketch-gray are defined, e.g., the sketch root
CSS/tokens file) and create a matching utility class .text-sketch-error that
sets color: var(--color-sketch-error) following the same naming/structure as
existing utilities so the component class resolves correctly.
---
In app/components/sketch/nav_component.rb around lines 175 to 178, the badge
uses the undefined Tailwind class bg-sketch-error; update
app/assets/tailwind/application.css to define the CSS variable and Tailwind
color mapping: add a :root CSS variable --color-sketch-error with the desired
hex value (or update your design tokens), then add or update the Tailwind theme
colors to include sketch-error pointing to var(--color-sketch-error) so the
bg-sketch-error utility resolves; alternatively, create a small utility class
.bg-sketch-error that sets background-color: var(--color-sketch-error) if you
prefer not to modify the Tailwind theme.
---
In app/javascript/controllers/sketch_button_controller.js around lines 164-167,
the resize() method is defined but never attached to the window resize event;
either remove it or wire it up—add an event listener in the controller's
connect() that binds the controller context (e.g., this._onResize =
this.resize.bind(this) or use an arrow wrapper) and call
window.addEventListener('resize', this._onResize), and remove that listener in
disconnect() via window.removeEventListener('resize', this._onResize); ensure
any initial draw is invoked after binding if needed.
---
In app/javascript/controllers/sketch_card_controller.js around lines 120-122,
resize() currently calls drawBorder() which appends a new SVG without removing
the old one, causing duplicate SVG overlays; modify drawBorder() (or resize())
to first find and remove any existing border SVG (e.g., querySelector within the
card for the border SVG by class/id) or reuse the existing SVG by clearing its
children before redrawing, then proceed to create/append the SVG only if none
exists or after cleanup.
---
In app/javascript/controllers/sketch_input_controller.js around lines 124-126,
the resize() method is defined but never attached to the window resize event;
bind and register it in the controller lifecycle (e.g., in connect create a
bound handler like this._onResize = this.resize.bind(this) and call
window.addEventListener('resize', this._onResize')) and remove the listener in
disconnect (window.removeEventListener('resize', this._onResize')) so the method
runs on resizes and avoids leaks.
---
In app/javascript/controllers/sketch_modal_controller.js around lines 31–54, the
modal.open() method currently shows the modal but does not handle the Escape
key; add keyboard accessibility by registering a keydown handler when the modal
opens that listens for the Escape key and calls this.close(), and remove that
same handler when the modal closes; implement the handler as a bound instance
method (e.g., this._handleKeydown = this._handleKeydown ||
this._handleKeydown.bind(this)) so you can addEventListener in open() and
removeEventListener in close(), and ensure the handler only reacts when
this.isOpen is true.
---
In app/javascript/controllers/sketch_modal_controller.js around lines 49-50, the
controller calls this.focusFirstElement() synchronously while drawBorder() and
animateIn() are deferred with requestAnimationFrame, causing focus to be set
before the modal's border animation completes; remove the synchronous call and
instead invoke focusFirstElement from inside the requestAnimationFrame callback
(after calling drawBorder() and animateIn()) so focus is applied once the visual
entrance is scheduled/started — if you need to ensure animations are painted
before focusing, call focusFirstElement in a second requestAnimationFrame (or a
short setTimeout 0) inside that callback.
---
In app/javascript/sketch/index.js around lines 90-91, applySketchBorder
unconditionally sets element.style.position = "relative", which can override
existing positioning and break layouts; change it to inspect the element's
current computed position (via getComputedStyle) and only set position to
"relative" when the computed position is "static" (or there is no positioning)
so you don't overwrite existing "absolute", "fixed", "sticky", etc.; ensure you
check computed style rather than only inline style so existing stylesheet rules
are respected before mutating element.style.
---
In config/importmap.rb around lines 11 to 14, the pin for "wired-elements"
points to an old, likely abandoned release candidate (3.0.0-rc.6); replace it
with the actively maintained fork by pinning "@node-projects/wired-elements"
(for example version 3.1.1) to the appropriate CDN URL, update the import name
used in the app where necessary, and ensure any breaking changes between the
packages are handled (adjust imports/initialization if the fork's module name or
API differs).
---
In config/initializers/sketch.rb around lines 34 to 38, the code uses plural
keys :shadows and :textures but the design-tokens.json uses singular keys
(shadow, texture); update the extraction to use tokens.dig(:shadow) || {} and
tokens.dig(:texture) || {} (preserving the fallback to empty hashes) so the
config reads the actual JSON values.

---

coderabbit이 리뷰하고 만들어준 프롬프트야.
`---`으로 구분했어. 서브 에이전트로 병렬 처리해줘.

In test/system/onboarding/invites_test.rb around lines 80 to 83, the test scopes
the click to a fragile Tailwind selector within("div.px-6.pb-8.bg-cream-50");
replace this with a stable approach by either removing the within block and
calling click_button "시작하기" directly, or change the scope to a semantic selector
like within(".onboarding-actions") (or add and use a data-testid on the
container/button in the view) so the test no longer breaks when style classes
change.
---
In app/assets/stylesheets/sketch-utilities.css around lines 107–117 the rule
uses clip-path: url(#wavy-clip) but no <clipPath id="wavy-clip"> exists; either
add a corresponding SVG clipPath element with id="wavy-clip" into the DOM (e.g.,
in your application layout or an included SVG sprite/defs file) ensuring the
path matches the intended wavy shape and is available before the stylesheet is
applied, or remove the clip-path declaration from .sketch-underline-wavy::after
and replace it with a CSS-only approach (mask-image, background SVG data URI, or
adjusted background-position) so the underline renders correctly without a
missing SVG reference.
---
In app/assets/tailwind/application.css around lines 373 to 376, the three
.sketch-border-dashed-* classes include the SVG-only property stroke-dasharray
which has no effect on CSS borders; remove the stroke-dasharray declarations
from those classes so they only set border-style: dashed, and if you need custom
dash patterns replace these with an SVG border or use a background-image
approach instead.
---
In app/assets/tailwind/application.css around lines 161 to 175, the .sketch-btn
class references CSS variables like --sketch-black that don't match the defined
variables which use the --color-sketch-* prefix, causing undefined values;
update the .sketch-btn variable references to the correct names (e.g., replace
--sketch-black with --color-sketch-black, --sketch-font-body with
--color-sketch-font-body or the exact variable names defined in your theme, and
similarly adjust --sketch-stroke-base, --radius-sketch-base,
--shadow-sketch-light, --duration-sketch-normal to their matching
--color-sketch-* or theme-defined names), or alternatively import the file that
defines the original --sketch-* variables so names are consistent across the
project.

---

아이콘은 이거로 사용할께 https://github.com/lucide-icons/lucide