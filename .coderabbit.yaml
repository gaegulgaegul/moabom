# CodeRabbit Configuration
# https://docs.coderabbit.ai/guides/configure-coderabbit

language: ko-KR

early_access: false

reviews:
  # ë¦¬ë·° ìŠ¤íƒ€ì¼: chill, assertive, nitpicky
  profile: assertive

  # ë¦¬ë·° ìš”ì²­ ì„¤ì •
  request_changes_workflow: false
  high_level_summary: true
  high_level_summary_placeholder: "@coderabbitai summary"

  # ìë™ ë¦¬ë·°
  auto_review:
    enabled: true
    drafts: false
    base_branches:
      - main

  # ë¦¬ë·° ì œì™¸ ê²½ë¡œ
  path_filters:
    - "!**/*.lock"
    - "!**/node_modules/**"
    - "!**/vendor/**"
    - "!db/schema.rb"
    - "!config/credentials.yml.enc"
    - "!tmp/**"
    - "!log/**"
    - "!storage/**"
    - "!public/assets/**"

  # ë¦¬ë·° ë„êµ¬ ì„¤ì •
  tools:
    rubocop:
      enabled: true
    shellcheck:
      enabled: true
    markdownlint:
      enabled: true

chat:
  auto_reply: true

# ì»¤ìŠ¤í…€ ì§€ì¹¨ (CodeRabbit v2)
knowledge_base:
  learnings:
    - |
      ## ğŸŒ ì–¸ì–´ ì„¤ì • (CRITICAL)
      ëª¨ë“  ë¦¬ë·° ì½”ë©˜íŠ¸ëŠ” **ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±**í•´ì•¼ í•©ë‹ˆë‹¤.
      All review comments MUST be written in Korean language.
    - |
      ## Rails ì»¨ë²¤ì…˜
      ControllerëŠ” thiní•˜ê²Œ ìœ ì§€í•˜ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ Serviceë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.
      Modelì—ëŠ” validation, association, scopeë§Œ í¬í•¨í•©ë‹ˆë‹¤.
      N+1 ì¿¼ë¦¬ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ includesë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
      Strong ParametersëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.
    - |
      ## ì½”ë“œ ìŠ¤íƒ€ì¼
      ë“¤ì—¬ì“°ê¸°ëŠ” 2 spacesë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
      ë©”ì„œë“œì™€ ë³€ìˆ˜ëŠ” snake_case, í´ë˜ìŠ¤ëŠ” PascalCaseë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
      guard clauseë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.
      safe navigation operator (&.)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
    - |
      ## ë³´ì•ˆ ê·œì¹™
      SQL injectionì„ ë°©ì§€í•˜ê¸° ìœ„í•´ parameterized queryë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
      XSSë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ escape ì²˜ë¦¬ë¥¼ í•©ë‹ˆë‹¤.
      ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ì€ ë°˜ë“œì‹œ current_user scopeë¥¼ í†µí•´ì•¼ í•©ë‹ˆë‹¤.
    - |
      ## í…ŒìŠ¤íŠ¸ ìš”êµ¬ì‚¬í•­
      TDD ì›Œí¬í”Œë¡œìš° (Red-Green-Refactor)ë¥¼ ë”°ë¦…ë‹ˆë‹¤.
      ëª¨ë“  public ë©”ì„œë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ê°€ í•„ìˆ˜ì…ë‹ˆë‹¤.
    - |
      ## ì»¤ë°‹ ì»¨ë²¤ì…˜
      íƒ€ì…ì€ feat/fix/refactor/test/docs/choreë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
      êµ¬ì¡°ì  ë³€ê²½(refactor)ê³¼ ë™ì‘ì  ë³€ê²½(feat/fix)ì€ ë°˜ë“œì‹œ ë¶„ë¦¬í•©ë‹ˆë‹¤.
